@model List<HizliOgren.Models.InstructorApplication>
@{
  ViewData["Title"] = "Eğitmen Başvurusu";
  var status = ViewBag.Status as string;
}
<form method="get" asp-action="Index" style="margin-bottom: 24px;">
  <select name="status" class="form-control" style="max-width: 200px; display: inline-block;">
    <option value="">Tüm Durumlar</option>
    <option value="0" selected="@(status == "0")">Beklemede</option>
    <option value="1" selected="@(status == "1")">Onaylandı</option>
    <option value="2" selected="@(status == "2")">Reddedildi</option>
  </select>
  <button type="submit" class="btn btn-ghost">Filtrele</button>
</form>

<div class="table-wrap">
  <table>
    <thead>
      <tr>
        <th>Ad Soyad</th>
        <th>E-posta</th>
        <th>Şehir</th>
        <th>Durum</th>
        <th>Üye</th>
        <th>Tarih</th>
        <th>İşlem</th>
      </tr>
    </thead>
    <tbody>
      @foreach (var a in Model)
      {
        <tr>
          <td>@a.FullName</td>
          <td>@a.Email</td>
          <td>@(a.City ?? "—")</td>
          <td>
            <span class="badge @(a.Status == HizliOgren.Models.InstructorApplicationStatus.Pending ? "badge-primary" : a.Status == HizliOgren.Models.InstructorApplicationStatus.Approved ? "badge-success" : "badge-warning")">
              @(a.Status == HizliOgren.Models.InstructorApplicationStatus.Pending ? "Beklemede" : a.Status == HizliOgren.Models.InstructorApplicationStatus.Approved ? "Onaylandı" : "Reddedildi")
            </span>
          </td>
          <td>@(a.UserId.HasValue ? "Evet (Üye #" + a.UserId + ")" : "Misafir")</td>
          <td>@a.CreatedAt.ToString("d MMM yyyy HH:mm")</td>
          <td><a asp-action="Detail" asp-route-id="@a.Id" class="btn btn-ghost btn-sm">Detay</a></td>
        </tr>
      }
    </tbody>
  </table>
</div>
@if (Model.Count == 0) { <p style="color: var(--text-muted); margin-top: 16px;">Başvuru bulunamadı.</p> }
