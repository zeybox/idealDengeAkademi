@* Silme onay modalı - js alert kullanılmaz *@
<div class="modal-overlay" id="confirmModal" role="dialog" aria-modal="true">
  <div class="modal">
    <h3 style="font-size: 1.2rem; margin-bottom: 12px;">Emin misiniz?</h3>
    <p class="confirm-message" style="color: var(--text-muted); margin-bottom: 24px;"></p>
    <div style="display: flex; gap: 12px; justify-content: flex-end;">
      <button type="button" class="btn btn-ghost modal-close">İptal</button>
      <form method="post" class="confirm-form" style="display: inline;">
        @Html.AntiForgeryToken()
        <button type="submit" class="btn btn-primary">Evet, sil</button>
      </form>
    </div>
  </div>
</div>
<script>
(function() {
  function showConfirmModal(options) {
    var overlay = document.getElementById('confirmModal');
    if (!overlay) return;
    var msg = overlay.querySelector('.confirm-message');
    var form = overlay.querySelector('.confirm-form');
    if (msg) msg.textContent = options.message || 'Bu öğeyi silmek istediğinize emin misiniz?';
    if (form) { form.action = options.action || '#'; form.method = options.method || 'post'; }
    overlay.classList.add('active');
    document.body.style.overflow = 'hidden';
  }
  window.showConfirmModal = showConfirmModal;
  document.querySelectorAll('[data-confirm-delete]').forEach(function(btn) {
    btn.addEventListener('click', function(e) {
      e.preventDefault();
      var action = this.getAttribute('data-delete-action') || (this.closest('form') && this.closest('form').action);
      var msg = this.getAttribute('data-delete-message') || 'Bu öğeyi silmek istediğinize emin misiniz?';
      showConfirmModal({ action: action || '#', message: msg });
    });
  });
  var confirmOverlay = document.getElementById('confirmModal');
  if (confirmOverlay) {
    confirmOverlay.addEventListener('click', function(e) {
      if (e.target === confirmOverlay) { confirmOverlay.classList.remove('active'); document.body.style.overflow = ''; }
    });
    var closeBtn = confirmOverlay.querySelector('.modal-close');
    if (closeBtn) closeBtn.addEventListener('click', function() { confirmOverlay.classList.remove('active'); document.body.style.overflow = ''; });
  }
})();
</script>
