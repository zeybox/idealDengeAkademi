@{
  ViewData["Title"] = "Ana Sayfa";
  var heroSlides = ViewBag.HeroSlides as List<HizliOgren.Models.HeroSlide> ?? new List<HizliOgren.Models.HeroSlide>();
}
@if (heroSlides.Any())
{
<!-- Hero Slider -->
<section class="hero">
  <div class="hero-slider" role="region" aria-label="Hero slayt">
    <div class="hero-track">
      @for (var i = 0; i < heroSlides.Count; i++)
      {
        var s = heroSlides[i];
        <div class="hero-slide @(i == 0 ? "active" : "")" data-slide="@i">
          <div class="hero-image">
            <img src="@(string.IsNullOrEmpty(s.ImageUrl) ? Url.Content("~/images/hero-1.jpg") : s.ImageUrl)" alt="@(s.ImageAlt ?? s.Title)" draggable="false">
          </div>
          <div class="hero-content">
            <h1>@s.Title</h1>
            @if (!string.IsNullOrEmpty(s.Text))
            {
              <p>@s.Text</p>
            }
            <div class="hero-buttons">
              <a asp-controller="Courses" asp-action="Index" class="btn btn-primary">EÄŸitimlere GÃ¶z At</a>
              @if (User.Identity?.IsAuthenticated == true)
              {
                @if (User.IsInRole("Admin"))
                {
                  <a href="~/Admin" class="btn btn-secondary">Admin</a>
                }
                else if (User.IsInRole("Egitmen"))
                {
                  <a href="~/Egitmen" class="btn btn-secondary">EÄŸitmen Paneli</a>
                }
                else
                {
                  <a asp-controller="Dashboard" asp-action="Index" class="btn btn-secondary">HesabÄ±m</a>
                }
              }
              else
              {
                <a asp-controller="Auth" asp-action="Register" class="btn btn-secondary">KayÄ±t Ol</a>
              }
            </div>
          </div>
        </div>
      }
    </div>
  </div>
  <div class="hero-dots" aria-label="Slayt seÃ§in">
    @for (var i = 0; i < heroSlides.Count; i++)
    {
      <button type="button" class="hero-dot @(i == 0 ? "active" : "")" data-slide="@i" aria-label="@(i + 1). slayt" @(i == 0 ? "aria-current=\"true\"" : "")>@(i + 1)</button>
    }
  </div>
</section>
}

<section class="section">
  <div class="container">
    <div class="features">
      <div class="feature-card">
        <div class="feature-icon">ğŸ“¹</div>
        <h3>@(ViewData["Feature1Title"] ?? "1000+ Mikro EÄŸitim")</h3>
        <p>@(ViewData["Feature1Text"] ?? "Soru ve cevaplarla farkÄ±ndalÄ±ÄŸÄ±nÄ±zÄ± artÄ±rÄ±n. Video, PDF ve makalelerle Ã¶ÄŸrenin.")</p>
      </div>
      <div class="feature-card">
        <div class="feature-icon">ğŸ“</div>
        <h3>@(ViewData["Feature2Title"] ?? "UzmanlaÅŸÄ±n")</h3>
        <p>@(ViewData["Feature2Text"] ?? "AlanÄ±nda uzman eÄŸitmenlerden doÄŸru eÄŸitimi alÄ±n. Uygulanabilir, gÃ¼ncel iÃ§erikler.")</p>
      </div>
      <div class="feature-card">
        <div class="feature-icon">ğŸ“±</div>
        <h3>@(ViewData["Feature3Title"] ?? "Kolay EriÅŸim")</h3>
        <p>@(ViewData["Feature3Text"] ?? "EÄŸitimlerinize ister bilgisayardan ister mobil cihazdan eriÅŸin.")</p>
      </div>
    </div>
  </div>
</section>

<section class="section" style="background: var(--bg-soft);">
  <div class="container">
    <h2 class="section-title">@(ViewData["SectionEgitimlerTitle"] ?? "EÄŸitimler")</h2>
    <p class="section-subtitle">@(ViewData["SectionEgitimlerSubtitle"] ?? "PopÃ¼ler eÄŸitimlerimizi keÅŸfedin ve hemen Ã¶ÄŸrenmeye baÅŸlayÄ±n.")</p>
    <div class="category-list">
      <a asp-controller="Courses" asp-action="Index" class="category-pill active">TÃ¼mÃ¼</a>
      <a asp-controller="Courses" asp-action="Index" asp-route-cat="iletisim" class="category-pill">Ä°letiÅŸim</a>
      <a asp-controller="Courses" asp-action="Index" asp-route-cat="liderlik" class="category-pill">Liderlik</a>
      <a asp-controller="Courses" asp-action="Index" asp-route-cat="kisisel" class="category-pill">KiÅŸisel GeliÅŸim</a>
      <a asp-controller="Courses" asp-action="Index" asp-route-cat="satis" class="category-pill">SatÄ±ÅŸ</a>
    </div>
    <div class="course-grid">
      @if (ViewBag.FeaturedCourses is IEnumerable<HizliOgren.Models.Course> featured && featured.Any())
      {
        @foreach (var c in featured)
        {
          <article class="card">
            <img src="@(string.IsNullOrEmpty(c.ImageUrl) ? "https://placehold.co/400x250/e0f2f1/0f766e?text=" + Uri.EscapeDataString(c.Title) : c.ImageUrl)" alt="@c.Title" class="card-img">
            <div class="card-body">
              <h3 class="card-title">@c.Title</h3>
              <div class="card-meta">
                <span>@c.Category?.Name</span>
                @{ var totalMin = (c.CurriculumItems ?? new List<HizliOgren.Models.CurriculumItem>()).Where(x => x.Type == "video").Sum(x => x.DurationMinutes ?? 0); }
                <span>@(totalMin > 0 ? "â± " + totalMin + " dk" : "â± EÄŸitim")</span>
              </div>
              @if (c.Instructor != null)
              {
                <a asp-controller="Instructors" asp-action="Profile" asp-route-id="@c.Instructor.Id" style="display: flex; align-items: center; gap: 8px; margin-top: 10px; color: var(--text-muted); font-size: 0.9rem; text-decoration: none;">
                  @if (!string.IsNullOrWhiteSpace(c.Instructor.AvatarUrl))
                  { <img src="@c.Instructor.AvatarUrl" alt="" style="width: 24px; height: 24px; border-radius: 50%; object-fit: cover;" /> }
                  else
                  { <span style="width: 24px; height: 24px; background: var(--bg-soft); border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; font-size: 0.75rem;">ğŸ‘¤</span> }
                  <span>@c.Instructor.FullName</span>
                </a>
              }
            </div>
            <div class="card-footer">
              <span class="card-price">â‚º@c.Price.ToString("N0")</span>
              <a asp-controller="Courses" asp-action="Detail" asp-route-id="@c.Id" class="btn btn-primary">Ä°ncele</a>
            </div>
          </article>
        }
      }
      else
      {
        <article class="card">
          <img src="https://placehold.co/400x250/e0f2f1/0f766e?text=Egitim" alt="EÄŸitim" class="card-img">
          <div class="card-body">
            <h3 class="card-title">EÄŸitimler</h3>
            <div class="card-meta"><span>Kategoriler</span></div>
          </div>
          <div class="card-footer">
            <span class="card-price">â€”</span>
            <a asp-controller="Courses" asp-action="Index" class="btn btn-primary">TÃ¼m EÄŸitimler</a>
          </div>
        </article>
      }
    </div>
    <p style="text-align: center; margin-top: 32px;">
      <a asp-controller="Courses" asp-action="Index" class="btn btn-outline">TÃ¼m EÄŸitimleri GÃ¶r</a>
    </p>
  </div>
</section>

<section class="section" style="background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%); color: white;">
  <div class="container" style="text-align: center;">
    <h2 style="font-size: 2rem; margin-bottom: 16px; color: white;">@(ViewData["SectionCtaTitle"] ?? "EÄŸitim SatÄ±n Al, Hemen EriÅŸ")</h2>
    <p style="max-width: 600px; margin: 0 auto 24px; opacity: 0.95;">@(ViewData["SectionCtaText"] ?? "Ä°stediÄŸiniz eÄŸitimi satÄ±n alÄ±n; video, PDF ve makalelere sÃ¼resiz eriÅŸin. AldÄ±ÄŸÄ±nÄ±z her eÄŸitim hesabÄ±nÄ±zda kalÄ±r.")</p>
    <a asp-controller="Courses" asp-action="Index" class="btn" style="background: white; color: var(--primary);">EÄŸitimlere GÃ¶z At</a>
  </div>
</section>

<section class="section" style="background: var(--bg-soft);">
  <div class="container">
    <h2 class="section-title">@(ViewData["SectionBlogTitle"] ?? "Blog")</h2>
    <p class="section-subtitle">@(ViewData["SectionBlogSubtitle"] ?? "Ä°puÃ§larÄ±, makaleler ve gÃ¼ncel yazÄ±lar. Herkese aÃ§Ä±k.")</p>
    <div class="blog-grid">
      @{
        var latestPosts = ViewBag.LatestBlogPosts as List<HizliOgren.Models.BlogPost> ?? new List<HizliOgren.Models.BlogPost>();
      }
      @if (latestPosts.Any())
      {
        @foreach (var post in latestPosts)
        {
          <article class="card blog-card">
            <a asp-controller="Blog" asp-action="Post" asp-route-slug="@post.Slug">
              <img src="@(post.ImageUrl ?? "https://placehold.co/400x225/e0f2f1/0f766e?text=Blog")" alt="@post.Title" class="card-img">
            </a>
            <div class="card-body">
              <div class="card-meta">
                @if (post.PublishedAt.HasValue) { <span>@post.PublishedAt.Value.ToString("d MMM yyyy")</span> }
                @if (post.Author != null) { <span>@post.Author.FullName</span> }
              </div>
              <h3 class="card-title"><a asp-controller="Blog" asp-action="Post" asp-route-slug="@post.Slug">@post.Title</a></h3>
              <p style="color: var(--text-muted); font-size: 0.95rem;">@(post.Excerpt ?? "")</p>
            </div>
            <div class="card-footer">
              <a asp-controller="Blog" asp-action="Post" asp-route-slug="@post.Slug" class="btn btn-ghost">Oku</a>
            </div>
          </article>
        }
      }
      else
      {
        <article class="card blog-card">
          <img src="https://placehold.co/400x225/e0f2f1/0f766e?text=Blog" alt="Blog" class="card-img">
          <div class="card-body">
            <div class="card-meta"><span>Blog</span></div>
            <h3 class="card-title">Makaleler</h3>
            <p style="color: var(--text-muted); font-size: 0.95rem;">HenÃ¼z yayÄ±nlanmÄ±ÅŸ yazÄ± yok. YakÄ±nda burada gÃ¶rÃ¼necek.</p>
            <a asp-controller="Blog" asp-action="Index" class="btn btn-ghost" style="margin-top: 12px;">Blog SayfasÄ± â†’</a>
          </div>
        </article>
      }
    </div>
    <p style="text-align: center; margin-top: 32px;">
      <a asp-controller="Blog" asp-action="Index" class="btn btn-outline">TÃ¼m YazÄ±lar</a>
    </p>
  </div>
</section>

<section class="section" id="hakkimizda">
  <div class="container">
    <h2 class="section-title">@(ViewData["SectionHakkimizdaTitle"] ?? "HakkÄ±mÄ±zda")</h2>
    <p class="section-subtitle">@(ViewData["SectionHakkimizdaSubtitle"] ?? "HÄ±zlÄ± Ã–ÄŸren, kiÅŸisel ve mesleki geliÅŸim iÃ§in tasarlanmÄ±ÅŸ bir online eÄŸitim platformudur. AlanÄ±nda uzman eÄŸitmenlerimizle hazÄ±rlanan video, PDF ve makalelerle kendinize yeni yetkinlikler kazandÄ±rÄ±n.")</p>
    <div style="max-width: 700px; margin: 0 auto; text-align: center;">
      <p style="color: var(--text-muted); margin-bottom: 20px;">Misyonumuz, deÄŸerlerimiz ve nasÄ±l Ã§alÄ±ÅŸtÄ±ÄŸÄ±mÄ±z hakkÄ±nda daha fazla bilgi edinmek ister misiniz?</p>
      <a asp-controller="Home" asp-action="Hakkimizda" class="btn btn-primary">@(ViewData["SectionHakkimizdaButton"] ?? "HakkÄ±mÄ±zda")</a>
    </div>
  </div>
</section>
